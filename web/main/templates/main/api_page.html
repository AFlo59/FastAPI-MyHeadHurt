{% extends "base.html" %}

{% load static widget_tweaks %}

{% block content %}

<h1 class="mx-auto text-center pb-10 text-xl font-bold">Obtenir des informations sur les cryptos</h1>

<form action="." method="post" class="max-w-md mx-auto">
    {% csrf_token %}
    <div class="relative z-0 w-full mb-5 group">
        {{form.slug.label}}
        {{ form.slug|add_class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" }}
    </div>
    <div class="relative z-0 w-full mb-5 group">
        {{form.convert.label}}
        {{ form.convert|add_class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" }}
    </div>
    <button id='submit' type='submit' class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Submit</button>


</form>

{% if data %}

<div id='data' class='text-center'>
    <p>Le prix est de {{data.price|floatformat:2}} {{devise}}</p>
    <p>Le volume en 24h est de {{data.volume_24h|floatformat:2}}</p>
    <p>Le % de changement en 7 jours {{data.price|floatformat:2}}</p>
    <p>La marketcap dominance est de {{data.percent_change_7d|floatformat:2}} {{devise}} </p>
</div>

{% elif error %}

<p class='text-center'> Votre requÃªte est incorrecte </p>

{% endif %}

{% endblock content %}   